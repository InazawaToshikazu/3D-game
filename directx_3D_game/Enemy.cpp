 //=============================================================================
//
// 敵モデル表示処理 [Enemy.cpp]
// Author : 稲澤俊和
//
//=============================================================================

//=============================================================================
// インクルード
//=============================================================================
#include "main.h"
#include "Enemy.h"
#include "Renderer.h"
#include "SceneX.h"
#include "Input.h"

//=============================================================================
// マクロ定義
//=============================================================================
#define FIELD_WIDTH		(100.0f)		// 地面の幅
#define FIELD_HIGHT		(100.0f)		// 地面の縦

//=============================================================================
// グローバル変数
//=============================================================================


//=============================================================================
// コンストラクタ
//=============================================================================
CEnemy::CEnemy(OBJTYPE nObjType,int nPriority):CSceneX(nObjType,nPriority)
{
	m_Scl=D3DXVECTOR3(0.0f,0.0f,0.0f);
}

//=============================================================================
// デストラクタ
//=============================================================================
CEnemy::~CEnemy(void)
{
	
}

//=============================================================================
// オブジェクトの生成
//=============================================================================
CEnemy* CEnemy::Create(float fPosX,float fPosY,float fPosZ,CRenderer* m_pRenderer)
{
	CEnemy *pEnemy;
	//インスタンスの作成
	pEnemy = new CEnemy(OBJTYPE_ENEMY);
	//CEnemyのInitを呼び出す
	pEnemy->Init(m_pRenderer);
	//座標の設定
	pEnemy->SetPos(fPosX,fPosY,fPosZ);

	return pEnemy;
}

//=============================================================================
// 初期化処理
//=============================================================================
HRESULT CEnemy::Init(CRenderer *pRenderer)
{
	//モデルの指定
	FileName="data/MODEL/enemy1/enemy1.x";
	m_Scl=D3DXVECTOR3(0.3f,0.3f,0.3f);

	CSceneX::Init(pRenderer);
	return S_OK;
}

//=============================================================================
// 終了処理
//=============================================================================
void CEnemy::Uninit(void)
{
	//自身のリソースの解放
	CScene::Release();
}

//=============================================================================
// 更新処理
//=============================================================================
void CEnemy::Update(void)
{
	CSceneX::Update();
	//Deleteキーが押されたら
	if(GetKeyboardPress(DIK_DELETE))
	{
		//CEnemyのUninitを呼ぶ
		CEnemy::Uninit();
	}
}

//=============================================================================
// 描画処理
//=============================================================================
void CEnemy::Draw(void)
{
	CSceneX::Draw();
}